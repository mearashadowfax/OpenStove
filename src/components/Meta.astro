---
interface Props {
  title?: string;
  description?: string;
  canonicalUrl?: string;
  ogImage?: string;
  ogType?: string;
}

const {
  title = "OpenStove",
  description = "Explore OpenStove, a curated collection of ad-free, community-shared recipes. Connect with cooking enthusiasts and contribute to our GitHub-hosted culinary repository. No fees, just the joy of cooking and sharing.",
  canonicalUrl = Astro.url.pathname + Astro.url.search,
  ogImage = `${Astro.site}/social-image.png`,
  ogType = "website",
} = Astro.props;

// Ensure canonical URL is absolute
const canonical = canonicalUrl.startsWith("http")
  ? canonicalUrl
  : `${Astro.site}${canonicalUrl.startsWith("/") ? canonicalUrl : `/${canonicalUrl}`}`;

// Ensure og:url is absolute
const ogUrl = canonical;
---

<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "OpenStove",
    "alternateName": "OpenStove â€” A Curated Collection of Community-Crafted Recipes",
    "url": "https://openstove.org",
    "description": "Explore OpenStove, a curated collection of ad-free, community-shared recipes. Connect with cooking enthusiasts and contribute to our GitHub-hosted culinary repository. No fees, just the joy of cooking and sharing."
  }
</script>

<!-- Canonical URL -->
<link rel="canonical" href={canonical} />

<meta content={description} name="description" />
<meta content="Emil Gulamov" name="web_author" />
<meta content="width=device-width, initial-scale=1" name="viewport" />

<!-- Facebook Meta Tags -->
<meta content="en_US" property="og:locale" />
<meta property="og:url" content={ogUrl} />
<meta property="og:type" content={ogType} />
<meta property="og:title" content={title} />
<meta content="OpenStove" property="og:site_name" />
<meta property="og:description" content={description} />
<meta property="og:image" content={ogImage} />
<meta content="1200" property="og:image:width" />
<meta content="600" property="og:image:height" />
<meta content="image/png" property="og:image:type" />

<!-- Twitter Meta Tags -->
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:domain" content="openstove.org" />
<meta property="twitter:url" content={ogUrl} />
<meta name="twitter:title" content={title} />
<meta name="twitter:description" content={description} />
<meta name="twitter:image" content={ogImage} />

<link href="/manifest.webmanifest" rel="manifest" />
<link rel="sitemap" href="/sitemap-index.xml" />

<link href="/favicon.ico" rel="icon" sizes="any" type="image/x-icon" />
<link href="/icon.svg" rel="icon" type="image/svg+xml" sizes="any" />
<meta name="mobile-web-app-capable" content="yes" />
<link href="/apple-touch-icon.png" rel="apple-touch-icon" />
<link href="/apple-touch-icon.png" rel="shortcut icon" />
<meta name="theme-color" content="#FFEDD5" />
